# iChat Server
iChat即时通讯服务，**主服务器部分**。

## 系统架构
![架构.png](https://i.loli.net/2019/03/22/5c94a45f175c2.png)

iChat即时通讯服务后端分为三个部分，主服务器、推送服务器、用户管理服务器。推送服务器负责推送各类通知和消息和维护用户离在线状态。通过redis数据库的订阅/分发机制连接主服务器和推送服务器，主服务器将要发送的消息传递给推送服务器，再由推送服务器保证消息能抵达客户端。

[推送服务器地址][1]

## 系统要求
+ php 7.0
+ Laravel 5.8
+ Redis 3.0
+ node.js 8.9.1
+ Mysql 5.7

## 功能
+ iChat后台实现了用户鉴权，包括令牌发放和令牌识别；
+ 好友请求，包括搜索用户，发送、同意和忽略好友请求，好友请求通知，好友请求被同意通知；
+ 好友管理，包括好友列表、删除和搜索；
+ 聊天系统，包括发送纯文本、图片、语音、文件，消息通知；
+ 分组管理，包括添加、删除、重命名分组以及为好友指定分组；
+ 在线状态维护，包括离在线判断，掉线检测，异地登陆通知旧客户端下线，离线消息；

## API文档参考
[API文档][2]


  [1]: https://github.com/kongmile/iChat-socket-server
  [2]: https://www.kongmile.com/ichat/swagger-ui/ 
